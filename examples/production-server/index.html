<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radix-Leptos Production</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; padding: 2rem; }
        .component { margin: 1rem 0; padding: 1rem; border: 1px solid #e5e7eb; border-radius: 0.5rem; }
        .status { padding: 0.5rem; border-radius: 0.25rem; margin: 0.5rem 0; }
        .success { background: #d1fae5; color: #065f46; }
        .error { background: #fee2e2; color: #991b1b; }
    </style>
</head>
<body>
    <h1>üöÄ Radix-Leptos Production Build</h1>
    <p>This is the production build of your Radix-Leptos components.</p>
    
    <div class="component">
        <h2>üì¶ Bundle Information</h2>
        <div id="bundle-info">Loading...</div>
    </div>
    
    <div class="component">
        <h2>üß™ Component Test</h2>
        <button id="test-btn">Test Component</button>
        <div id="test-result"></div>
    </div>
    
    <div class="component">
        <h2>üìä Performance Metrics</h2>
        <div id="performance-metrics">Loading...</div>
    </div>

    <script type="module">
        import init, { start_dropdown_menu_examples } from './radix_leptos_examples.js';
        
        let startTime = performance.now();
        
        async function run() {
            try {
                // Initialize WASM
                await init();
                const initTime = performance.now() - startTime;
                
                // Update bundle info
                document.getElementById('bundle-info').innerHTML = `
                    <div class="status success">‚úÖ WASM Initialized in ${initTime.toFixed(2)}ms</div>
                    <p><strong>JavaScript:</strong> ${(performance.memory?.usedJSHeapSize / 1024 / 1024).toFixed(2)}MB used</p>
                `;
                
                // Test component
                start_dropdown_menu_examples();
                
                // Update test result
                document.getElementById('test-result').innerHTML = `
                    <div class="status success">‚úÖ Component loaded successfully</div>
                `;
                
                // Performance metrics
                const loadTime = performance.now() - startTime;
                document.getElementById('performance-metrics').innerHTML = `
                    <div class="status success">‚úÖ Total load time: ${loadTime.toFixed(2)}ms</div>
                    <p><strong>WASM Init:</strong> ${initTime.toFixed(2)}ms</p>
                    <p><strong>Component Load:</strong> ${(loadTime - initTime).toFixed(2)}ms</p>
                `;
                
            } catch (error) {
                document.getElementById('bundle-info').innerHTML = `
                    <div class="status error">‚ùå Error: ${error.message}</div>
                `;
            }
        }
        
        // Test button functionality
        document.getElementById('test-btn').addEventListener('click', () => {
            document.getElementById('test-result').innerHTML = `
                <div class="status success">‚úÖ Button click working - component is functional!</div>
            `;
        });
        
        run();
    </script>
</body>
</html>
